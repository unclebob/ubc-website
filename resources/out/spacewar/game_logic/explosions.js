// Compiled by ClojureScript 1.11.132 {:optimizations :none}
goog.provide('spacewar.game_logic.explosions');
goog.require('cljs.core');
goog.require('spacewar.ui.config');
goog.require('cljs.spec.alpha');
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("spacewar.game-logic.explosions","x","spacewar.game-logic.explosions/x",-1191391010),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),cljs.core.number_QMARK_);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("spacewar.game-logic.explosions","y","spacewar.game-logic.explosions/y",-744643459),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),cljs.core.number_QMARK_);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("spacewar.game-logic.explosions","type","spacewar.game-logic.explosions/type",-2124458807),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"klingon-kinetic","klingon-kinetic",844180079),"null",new cljs.core.Keyword(null,"ship","ship",197863473),"null",new cljs.core.Keyword(null,"klingon-phaser","klingon-phaser",-1316039597),"null",new cljs.core.Keyword(null,"torpedo","torpedo",275681140),"null",new cljs.core.Keyword(null,"corbomite-device","corbomite-device",-829250405),"null",new cljs.core.Keyword(null,"klingon","klingon",-229621540),"null",new cljs.core.Keyword(null,"phaser","phaser",-1448421666),"null",new cljs.core.Keyword(null,"kinetic","kinetic",-451191810),"null"], null), null),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"klingon-kinetic","klingon-kinetic",844180079),null,new cljs.core.Keyword(null,"ship","ship",197863473),null,new cljs.core.Keyword(null,"klingon-phaser","klingon-phaser",-1316039597),null,new cljs.core.Keyword(null,"torpedo","torpedo",275681140),null,new cljs.core.Keyword(null,"corbomite-device","corbomite-device",-829250405),null,new cljs.core.Keyword(null,"klingon","klingon",-229621540),null,new cljs.core.Keyword(null,"phaser","phaser",-1448421666),null,new cljs.core.Keyword(null,"kinetic","kinetic",-451191810),null], null), null));
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("spacewar.game-logic.explosions","age","spacewar.game-logic.explosions/age",399797479),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),cljs.core.number_QMARK_);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("spacewar.game-logic.explosions","velocity","spacewar.game-logic.explosions/velocity",427169778),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),cljs.core.number_QMARK_);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("spacewar.game-logic.explosions","direction","spacewar.game-logic.explosions/direction",-1767888734),new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),cljs.core.number_QMARK_);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("spacewar.game-logic.explosions","fragments","spacewar.game-logic.explosions/fragments",-2098609468),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("spacewar.game-logic.explosions","x","spacewar.game-logic.explosions/x",-1191391010),new cljs.core.Keyword("spacewar.game-logic.explosions","y","spacewar.game-logic.explosions/y",-744643459),new cljs.core.Keyword("spacewar.game-logic.explosions","velocity","spacewar.game-logic.explosions/velocity",427169778),new cljs.core.Keyword("spacewar.game-logic.explosions","direction","spacewar.game-logic.explosions/direction",-1767888734)], null))),cljs.spec.alpha.every_impl.call(null,cljs.core.list(new cljs.core.Symbol("s","keys","s/keys",-1586011188,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("spacewar.game-logic.explosions","x","spacewar.game-logic.explosions/x",-1191391010),new cljs.core.Keyword("spacewar.game-logic.explosions","y","spacewar.game-logic.explosions/y",-744643459),new cljs.core.Keyword("spacewar.game-logic.explosions","velocity","spacewar.game-logic.explosions/velocity",427169778),new cljs.core.Keyword("spacewar.game-logic.explosions","direction","spacewar.game-logic.explosions/direction",-1767888734)], null)),cljs.spec.alpha.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("spacewar.game-logic.explosions","x","spacewar.game-logic.explosions/x",-1191391010),new cljs.core.Keyword("spacewar.game-logic.explosions","y","spacewar.game-logic.explosions/y",-744643459),new cljs.core.Keyword("spacewar.game-logic.explosions","velocity","spacewar.game-logic.explosions/velocity",427169778),new cljs.core.Keyword("spacewar.game-logic.explosions","direction","spacewar.game-logic.explosions/direction",-1767888734)], null),null,null,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__1363){
return cljs.core.map_QMARK_.call(null,G__1363);
}),(function (G__1363){
return cljs.core.contains_QMARK_.call(null,G__1363,new cljs.core.Keyword(null,"x","x",2099068185));
}),(function (G__1363){
return cljs.core.contains_QMARK_.call(null,G__1363,new cljs.core.Keyword(null,"y","y",-1757859776));
}),(function (G__1363){
return cljs.core.contains_QMARK_.call(null,G__1363,new cljs.core.Keyword(null,"velocity","velocity",-581524355));
}),(function (G__1363){
return cljs.core.contains_QMARK_.call(null,G__1363,new cljs.core.Keyword(null,"direction","direction",-633359395));
})], null),(function (G__1363){
return ((cljs.core.map_QMARK_.call(null,G__1363)) && (((cljs.core.contains_QMARK_.call(null,G__1363,new cljs.core.Keyword(null,"x","x",2099068185))) && (((cljs.core.contains_QMARK_.call(null,G__1363,new cljs.core.Keyword(null,"y","y",-1757859776))) && (((cljs.core.contains_QMARK_.call(null,G__1363,new cljs.core.Keyword(null,"velocity","velocity",-581524355))) && (cljs.core.contains_QMARK_.call(null,G__1363,new cljs.core.Keyword(null,"direction","direction",-633359395))))))))));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("spacewar.game-logic.explosions","x","spacewar.game-logic.explosions/x",-1191391010),new cljs.core.Keyword("spacewar.game-logic.explosions","y","spacewar.game-logic.explosions/y",-744643459),new cljs.core.Keyword("spacewar.game-logic.explosions","velocity","spacewar.game-logic.explosions/velocity",427169778),new cljs.core.Keyword("spacewar.game-logic.explosions","direction","spacewar.game-logic.explosions/direction",-1767888734)], null),null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"x","x",2099068185),new cljs.core.Keyword(null,"y","y",-1757859776),new cljs.core.Keyword(null,"velocity","velocity",-581524355),new cljs.core.Keyword(null,"direction","direction",-633359395)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"x","x",2099068185))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"y","y",-1757859776))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"velocity","velocity",-581524355))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"direction","direction",-633359395)))], null),null])),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),null,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("spacewar.game-logic.explosions","x","spacewar.game-logic.explosions/x",-1191391010),new cljs.core.Keyword("spacewar.game-logic.explosions","y","spacewar.game-logic.explosions/y",-744643459),new cljs.core.Keyword("spacewar.game-logic.explosions","velocity","spacewar.game-logic.explosions/velocity",427169778),new cljs.core.Keyword("spacewar.game-logic.explosions","direction","spacewar.game-logic.explosions/direction",-1767888734)], null))),new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__1362){
return cljs.core.coll_QMARK_.call(null,G__1362);
})], null),null));
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("spacewar.game-logic.explosions","explosion","spacewar.game-logic.explosions/explosion",-551994534),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("spacewar.game-logic.explosions","x","spacewar.game-logic.explosions/x",-1191391010),new cljs.core.Keyword("spacewar.game-logic.explosions","y","spacewar.game-logic.explosions/y",-744643459),new cljs.core.Keyword("spacewar.game-logic.explosions","type","spacewar.game-logic.explosions/type",-2124458807),new cljs.core.Keyword("spacewar.game-logic.explosions","age","spacewar.game-logic.explosions/age",399797479),new cljs.core.Keyword("spacewar.game-logic.explosions","fragments","spacewar.game-logic.explosions/fragments",-2098609468)], null)),cljs.spec.alpha.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("spacewar.game-logic.explosions","x","spacewar.game-logic.explosions/x",-1191391010),new cljs.core.Keyword("spacewar.game-logic.explosions","y","spacewar.game-logic.explosions/y",-744643459),new cljs.core.Keyword("spacewar.game-logic.explosions","type","spacewar.game-logic.explosions/type",-2124458807),new cljs.core.Keyword("spacewar.game-logic.explosions","age","spacewar.game-logic.explosions/age",399797479),new cljs.core.Keyword("spacewar.game-logic.explosions","fragments","spacewar.game-logic.explosions/fragments",-2098609468)], null),null,null,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__1364){
return cljs.core.map_QMARK_.call(null,G__1364);
}),(function (G__1364){
return cljs.core.contains_QMARK_.call(null,G__1364,new cljs.core.Keyword(null,"x","x",2099068185));
}),(function (G__1364){
return cljs.core.contains_QMARK_.call(null,G__1364,new cljs.core.Keyword(null,"y","y",-1757859776));
}),(function (G__1364){
return cljs.core.contains_QMARK_.call(null,G__1364,new cljs.core.Keyword(null,"type","type",1174270348));
}),(function (G__1364){
return cljs.core.contains_QMARK_.call(null,G__1364,new cljs.core.Keyword(null,"age","age",-604307804));
}),(function (G__1364){
return cljs.core.contains_QMARK_.call(null,G__1364,new cljs.core.Keyword(null,"fragments","fragments",1456109445));
})], null),(function (G__1364){
return ((cljs.core.map_QMARK_.call(null,G__1364)) && (((cljs.core.contains_QMARK_.call(null,G__1364,new cljs.core.Keyword(null,"x","x",2099068185))) && (((cljs.core.contains_QMARK_.call(null,G__1364,new cljs.core.Keyword(null,"y","y",-1757859776))) && (((cljs.core.contains_QMARK_.call(null,G__1364,new cljs.core.Keyword(null,"type","type",1174270348))) && (((cljs.core.contains_QMARK_.call(null,G__1364,new cljs.core.Keyword(null,"age","age",-604307804))) && (cljs.core.contains_QMARK_.call(null,G__1364,new cljs.core.Keyword(null,"fragments","fragments",1456109445))))))))))));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("spacewar.game-logic.explosions","x","spacewar.game-logic.explosions/x",-1191391010),new cljs.core.Keyword("spacewar.game-logic.explosions","y","spacewar.game-logic.explosions/y",-744643459),new cljs.core.Keyword("spacewar.game-logic.explosions","type","spacewar.game-logic.explosions/type",-2124458807),new cljs.core.Keyword("spacewar.game-logic.explosions","age","spacewar.game-logic.explosions/age",399797479),new cljs.core.Keyword("spacewar.game-logic.explosions","fragments","spacewar.game-logic.explosions/fragments",-2098609468)], null),null,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"x","x",2099068185),new cljs.core.Keyword(null,"y","y",-1757859776),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"age","age",-604307804),new cljs.core.Keyword(null,"fragments","fragments",1456109445)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"x","x",2099068185))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"y","y",-1757859776))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"type","type",1174270348))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"age","age",-604307804))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"fragments","fragments",1456109445)))], null),null])));
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("spacewar.game-logic.explosions","explosions","spacewar.game-logic.explosions/explosions",-932660267),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("spacewar.game-logic.explosions","explosion","spacewar.game-logic.explosions/explosion",-551994534)),cljs.spec.alpha.every_impl.call(null,new cljs.core.Keyword("spacewar.game-logic.explosions","explosion","spacewar.game-logic.explosions/explosion",-551994534),new cljs.core.Keyword("spacewar.game-logic.explosions","explosion","spacewar.game-logic.explosions/explosion",-551994534),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),null,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("spacewar.game-logic.explosions","explosion","spacewar.game-logic.explosions/explosion",-551994534)),new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__1365){
return cljs.core.coll_QMARK_.call(null,G__1365);
})], null),null));
spacewar.game_logic.explosions.make_fragments = (function spacewar$game_logic$explosions$make_fragments(n,explosion,velocity){
var map__1366 = explosion;
var map__1366__$1 = cljs.core.__destructure_map.call(null,map__1366);
var x = cljs.core.get.call(null,map__1366__$1,new cljs.core.Keyword(null,"x","x",2099068185));
var y = cljs.core.get.call(null,map__1366__$1,new cljs.core.Keyword(null,"y","y",-1757859776));
return cljs.core.repeatedly.call(null,n,(function (){
return cljs.core.identity.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"x","x",2099068185),x,new cljs.core.Keyword(null,"y","y",-1757859776),y,new cljs.core.Keyword(null,"velocity","velocity",-581524355),((0.8 + cljs.core.rand.call(null,0.2)) * velocity),new cljs.core.Keyword(null,"direction","direction",-633359395),cljs.core.rand.call(null,(360))], null));
}));
});
spacewar.game_logic.explosions.active_explosion = (function spacewar$game_logic$explosions$active_explosion(explosion){
var map__1367 = explosion;
var map__1367__$1 = cljs.core.__destructure_map.call(null,map__1367);
var age = cljs.core.get.call(null,map__1367__$1,new cljs.core.Keyword(null,"age","age",-604307804));
var type = cljs.core.get.call(null,map__1367__$1,new cljs.core.Keyword(null,"type","type",1174270348));
var profile = type.call(null,spacewar.ui.config.explosion_profiles);
var duration = new cljs.core.Keyword(null,"duration","duration",1444101068).cljs$core$IFn$_invoke$arity$1(profile);
return (duration > age);
});
spacewar.game_logic.explosions.update_explosions = (function spacewar$game_logic$explosions$update_explosions(ms,world){
var explosions = new cljs.core.Keyword(null,"explosions","explosions",-1941460974).cljs$core$IFn$_invoke$arity$1(world);
var explosions__$1 = cljs.core.map.call(null,(function (p1__1368_SHARP_){
return cljs.core.update.call(null,p1__1368_SHARP_,new cljs.core.Keyword(null,"age","age",-604307804),cljs.core._PLUS_,ms);
}),explosions);
var explosions__$2 = cljs.core.filter.call(null,spacewar.game_logic.explosions.active_explosion,explosions__$1);
return cljs.core.assoc.call(null,world,new cljs.core.Keyword(null,"explosions","explosions",-1941460974),cljs.core.doall.call(null,explosions__$2));
});
spacewar.game_logic.explosions.__GT_explosion = (function spacewar$game_logic$explosions$__GT_explosion(explosion_type,p__1369){
var map__1370 = p__1369;
var map__1370__$1 = cljs.core.__destructure_map.call(null,map__1370);
var object = map__1370__$1;
var x = cljs.core.get.call(null,map__1370__$1,new cljs.core.Keyword(null,"x","x",2099068185));
var y = cljs.core.get.call(null,map__1370__$1,new cljs.core.Keyword(null,"y","y",-1757859776));
var profile = explosion_type.call(null,spacewar.ui.config.explosion_profiles);
return new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"x","x",2099068185),x,new cljs.core.Keyword(null,"y","y",-1757859776),y,new cljs.core.Keyword(null,"age","age",-604307804),(0),new cljs.core.Keyword(null,"type","type",1174270348),explosion_type,new cljs.core.Keyword(null,"fragments","fragments",1456109445),spacewar.game_logic.explosions.make_fragments.call(null,new cljs.core.Keyword(null,"fragments","fragments",1456109445).cljs$core$IFn$_invoke$arity$1(profile),object,new cljs.core.Keyword(null,"fragment-velocity","fragment-velocity",-1437696507).cljs$core$IFn$_invoke$arity$1(profile))], null);
});
spacewar.game_logic.explosions.shot__GT_explosion = (function spacewar$game_logic$explosions$shot__GT_explosion(shot){
return spacewar.game_logic.explosions.__GT_explosion.call(null,new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(shot),shot);
});

//# sourceMappingURL=explosions.js.map
